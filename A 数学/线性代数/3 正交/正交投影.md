# WHY 投影

我们为什么投影，可能因为 Ax=b 没有解。那么，我们求最接近的解：  
因为 $Ax$ 永远在 $C(A)$ 的范围内，所以如果我们要找一个最接近的 $x$ (解)，其实要找 $\hat{b}$ 对 $C(A)$ 的投影。换言之，我们求解$A\hat{x}=p$，此时 $\hat{p}$ 是 $\hat{b}$ 在 $C(A)$ 上的投影

# 向量的投影
一个向量投影的例子，以及几何图形：

![[Pasted image 20210909122550.png|200]]

解出x的值，于是得到p
$$\because a^T(b-xa)=0$$
$$\therefore \vec{p}=\vec{a}x=\vec{a}\frac{a^Tb}{a^Ta}$$
上面的公示中，$a^Tb$, $a^Tb$ 都是一个常数  
这个公式告诉我们一个有趣的事情：如果 b 翻倍，p 翻倍；如果 a 翻倍，p 不变  

所以，让我们将公式（1）换一个角度理解[^1]：

$$P=\frac{1}{a^Ta}aa^T,\quad \vec{p}=P\vec{b}$$
其中，这里的P指代的是一个投影矩阵，这个矩阵和 $\vec{b}$ 相乘，可以得到投影向量 $\vec{p}$

关于矩阵P，我们有以下特性：

1. 其几何意义是，$C(P)=$ line through $\vec{a}$（必须通过0点）[^2]；
2. 其阶数是：$r(p)=1$
	*这就是一个秩1矩阵！且公式里分子正好就是，列和行相乘*
3. 且这个矩阵是对称的：证明方法是对其公式进行转置，发现仍然是自己
4. 且还有一个非常重要的公式，对一个矩阵投影两次不会发生变化：$$P^2=P$$

# 高维的投影

那么，我们把维度拉高，同样可以获得 3 个等式：
$$\hat{x}=(A^TA)^{-1}A^Tb$$
$$p=A\hat{x}=A(A^TA)^{-1}A^Tb$$
$$P=A(A^TA)^{-1}A^T$$
第二个等式中，必须牢记，$A$ 不是方阵，因此 $(A^TA)^{-1}$ 是不可以化简拆开的，因为不存在 $A^{-1}$  
反之，如果 $A$是一个可逆的方阵，上述是可以被化简的，那么意味着 $A$ 的列空间将充斥整个 $n$ 维空间，那么 $b$ 不可能不在 $A$ 的列空间中，$P$ 当然就是 $I$

其次，当 $A$ 是一个普通矩阵，那么其公式应该和之前相似，具备上述的 4 点性质

### 一个彩蛋

$$(A^T)^{-1}=(A^{-1})^T$$
$$((A^T)^*)^{-1}=((A^T)^{-1})^*=((A^{-1})^T)^*=((A^{-1})^*)^T=((A^*)^T)^{-1}=((A^*)^{-1})^T$$

证明过程详见知乎[^3]

# 应用

Fitting by a line 最小二乘法

 


[^1]:添加一个括号
[^2]:指的是矩阵的列空间是一条直线
[^3]: [如何理解矩阵转置和求逆的可交换性？](https://www.zhihu.com/question/53736888)